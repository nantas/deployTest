!function t(e,r,i){function n(a,s){if(!r[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return n(r?r:t)},l,l.exports,t,e,r,i)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(t,e,r){window.Runtime={},t("./share/asset"),t("./page")},{"./page":5,"./share/asset":13}],2:[function(t,e,r){var i=t("./node"),n=Fire.Class({name:"Runtime.ButtonWrapper","extends":i,constructor:function(){this._normalTexToLoad="",this._pressedTexToLoad="",this._disabledTexToLoad=""},properties:{_normalTexture:{get:function(){if(!this.targetN._buttonNormalRenderer)return"";var t=this.targetN._buttonNormalRenderer.texture;return t?t.url:""},set:function(t){this.targetN?this.targetN.loadTextureNormal(t):this._normalTexToLoad=t},visible:!0,url:Fire.Texture},_pressedTexture:{get:function(){if(!this.targetN._buttonClickedRenderer)return"";var t=this.targetN._buttonClickedRenderer.texture;return t?t.url:""},set:function(t){this.targetN?this.targetN.loadTexturePressed(t):this._pressedTexToLoad=t},visible:!0,url:Fire.Texture},_disabledTexture:{get:function(){if(!this.targetN._buttonDisableRenderer)return"";var t=this.targetN._buttonDisableRenderer.texture;return t?t.url:""},set:function(t){this.targetN?this.targetN.loadTextureDisabled(t):this._disabledTexToLoad=t},visible:!0,url:Fire.Texture},text:{get:function(){return this.targetN.titleText},set:function(t){"string"==typeof t?this.targetN.titleText=t:Fire.error("The new text must be String")}},fontSize:{get:function(){return this.targetN.titleFontSize},set:function(t){isNaN(t)?Fire.error("The new fontSize must not be NaN"):this.targetN.titleFontSize=t}},font:{set:function(t){!t||t instanceof Fire.TTFFont?(this._font=t,this._setFontToNode(t)):Fire.error("The new font must be Fire.TTFFont")}},fontUuid:{get:function(){return this._font?this._font._uuid:""},set:function(t){if(t){var e=this;Fire.AssetLibrary.loadAsset(t,function(t,r){t?Fire.error("Failed to load font from uuid, "+t):e.font=r})}else this.font=null},displayName:"Font",type:Fire.TTFFont},fontFamily:{get:function(){return this.targetN.titleFontName},set:function(t){"string"==typeof t?this.targetN.titleFontName=t:Fire.error("The new fontFamily must be String")}},_text:{"default":"Button"},_fontSize:{"default":16},_font:{"default":null},_fontFamily:{"default":null}},statics:{},_setFontToNode:function(t,e){if(e=e?e:this.targetN,t){var r={type:"font",name:t.fontFamily,srcs:[t.url]};cc.loader.load(r,function(t,i){if(t)throw t;e.titleFontName=r.name})}},onBeforeSerialize:function(){i.prototype.onBeforeSerialize.call(this),this._text=this.text,this._fontSize=this.fontSize,this._font=this.fontUuid?Editor.serialize.asAsset(this.fontUuid):null,this._fontFamily=this.fontFamily},createNode:function(t){return t=t||new ccui.Button(this._normalTexToLoad,this._pressedTexToLoad,this._disabledTexToLoad),this._normalTexToLoad=this._pressedTexToLoad=this._disabledTexToLoad="",i.prototype.createNode.call(this,t),t.titleText=this._text,t.titleFontSize=this._fontSize,t.titleFontName=null===this._fontFamily?t.titleFontName:this._fontFamily,this._setFontToNode(this._font,t),t}});e.exports=n},{"./node":6}],3:[function(t,e,r){var i=Runtime.TextAlign,n=Runtime.TextAnchor,o=function(){var t=new Array(n.BottomRight+1);return t[n.TopLeft]=cc.p(0,1),t[n.TopCenter]=cc.p(.5,1),t[n.TopRight]=cc.p(1,1),t[n.MiddleLeft]=cc.p(0,.5),t[n.MiddleCenter]=cc.p(.5,.5),t[n.MiddleRight]=cc.p(1,.5),t[n.BottomLeft]=cc.p(0,0),t[n.BottomCenter]=cc.p(.5,0),t[n.BottomRight]=cc.p(1,0),function(e){var r=t[e];return cc.p(r)}}(),a=t("./node"),s=Fire.Class({name:"Runtime.BitmapFontWrapper","extends":a,constructor:function(){this._bitmapFontToLoad=""},properties:{_bitmapFont:{get:function(){return this.targetN._fntFile||""},set:function(t){this._bitmapFontToLoad=t,this.targetN&&(this.targetN._fntFile=t,this.onBeforeSerialize(),this.createNode(this.targetN))},visible:!0,url:Fire.BitmapFont},text:{get:function(){return this.targetN.string},set:function(t){"string"==typeof t?this.targetN.string=t:Fire.error("The new text must be string")}},anchor:{get:function(){return this._anchor},set:function(t){if("number"==typeof t){this._anchor=t;var e=o(t);this.targetN.setAnchorPoint(e)}else Fire.error("The new text must be number")},type:n},align:{get:function(){return this.targetN.textAlign},set:function(t){"number"==typeof t?this.targetN.textAlign=t:Fire.error("The new text must be number")},type:i},childrenN:{get:function(){return[]}},_text:{"default":""},_anchor:{"default":n.MiddleCenter},_align:{"default":i.Left}},statics:{canHaveChildrenInEditor:!1},onBeforeSerialize:function(){a.prototype.onBeforeSerialize.call(this),this._text=this.text,this._anchor=this.anchor,this._align=this.align},createNode:function(t){t=t||new cc.LabelBMFont,a.prototype.createNode.call(this,t);var e;return this._bitmapFontToLoad&&(e=this._bitmapFontToLoad,this._bitmapFontToLoad=""),e?cc.loader.load(e,function(r,i){t.initWithString(this._text,e),t.setAnchorPoint(o(this._anchor)),t.textAlign=this._align}.bind(this)):(t.setAnchorPoint(o(this._anchor)),t.textAlign=this._align),t}});e.exports=s},{"./node":6}],4:[function(t,e,r){var i=Fire.Class({name:"Runtime.EngineWrapper","extends":Fire.Runtime.EngineWrapper,constructor:function(){},properties:{canvasSize:{get:function(){var t=cc.view.getVisibleSize();return new Fire.Vec2(t.width,t.height)},set:function(t){var e=t.x,r=t.y,i=cc.view;i.setDesignResolutionSize(e,r,i._resolutionPolicy)}},_needAnimate:!1,_needRender:!0},initRuntime:function(t,e){var r=t.width||800,i=t.height||600,n=t.canvas,o="gameCanvas";n.id?o=n.id:n.id=o;var a=this;if(document){var s=document.ccConfig||{};document.ccConfig={width:r,height:i,debugMode:1,showFPS:!1,frameRate:60,id:o,renderMode:Fire.isEditor?2:s.renderMode,jsList:[]}}cc.game._initConfig(),cc.game.onStart=function(){var t=new cc.Scene;t.setAnchorPoint(0,0),cc.view.setResolutionPolicy(cc.ResolutionPolicy.SHOW_ALL),a._setCurrentSceneN(t),cc.director._paused=!0,cc._canvas.setAttribute("tabindex",-1),cc._canvas.style.backgroundColor="",cc.imeDispatcher._domInputControl&&cc.imeDispatcher._domInputControl.setAttribute("tabindex",-1),a.canvasSize=new Fire.Vec2(r,i),a._registerStepRuntime(),e&&e()},this._dontRegisterSystemEvent(),cc.game.run()},playRuntime:function(){this._registerCocosSystemEvent(cc._canvas),cc._canvas.setAttribute("tabindex",99),cc._canvas.style.backgroundColor="black",cc.imeDispatcher._domInputControl&&cc.imeDispatcher._domInputControl.setAttribute("tabindex",2),cc.director.resume(),cc.view.setDesignResolutionSize(640,480),cc.view.resizeWithBrowserSize(!0)},stopRuntime:function(){},pauseRuntime:function(){cc.director.pause()},resumeRuntime:function(){cc.director.resume()},animateRuntime:function(t){this._needAnimate=!0},renderRuntime:function(){this._needRender=!0},_registerStepRuntime:function(){var t=this,e=cc.director.drawScene;cc.director.drawScene=function(){if(t.isPlaying||t._needRender){t._needRender=!1;var r=Fire.engine;r.emit("post-update"),(r._stepOnce||!t.isPlaying&&r._needAnimate)&&(this._paused=!1),e.call(this),(r._stepOnce||!t.isPlaying&&r._needAnimate)&&(this._paused=!0,r._stepOnce=!1,r._needAnimate=!1)}}},_setCurrentSceneN:function(t){cc.director.runScene(t),cc.director.setNextScene()},getCurrentSceneN:function(){return cc.director.getRunningScene()},_dontRegisterSystemEvent:function(){this._registerCocosSystemEvent=cc.inputManager.registerSystemEvent.bind(cc.inputManager),cc.inputManager.registerSystemEvent=function(){}},getIntersectionList:function(t){var e=this.getCurrentScene(),r=[];return e._deepQueryChildren(function(e){var i=e.getWorldBounds();if(t.intersects(i)){i=e.getWorldOrientedBounds();var n=new Fire.Polygon(i);Fire.Intersection.rectPolygon(t,n)&&r.push(e.targetN)}return!0}),r}});e.exports=i},{}],5:[function(t,e,r){function i(t,e,r,i){var n=t[e];Fire.Runtime.registerNodeType(n,r,i),t[e]=n}t("./utils"),t("./types");var n=t("./engine");Fire.Runtime.registerEngine(new n(!1));var o=[[cc,"Node",t("./node"),"Node"],[cc,"Scene",t("./scene")],[cc,"Sprite",t("./sprite"),"Sprite"],[cc,"LabelBMFont",t("./bitmap-font"),"LabelBMFont"],[cc,"ParticleSystem",t("./particle"),"ParticleSystem"],[ccui,"Button",t("./Button"),"UI/Button"]];o.forEach(function(t){i(t[0],t[1],t[2],t[3])})},{"./Button":2,"./bitmap-font":3,"./engine":4,"./node":6,"./particle":7,"./scene":8,"./sprite":9,"./types":10,"./utils":11}],6:[function(t,e,r){var i=Fire.Vec2,n=Fire.Rect,o=Fire.Color,a=Fire.Runtime.Helpers,s=Fire.Class({name:"Runtime.NodeWrapper","extends":Fire.Runtime.NodeWrapper,properties:{name:{get:function(){return this.targetN.getName()},set:function(t){this.targetN.setName(t)}},parentN:{get:function(){return this.targetN.parent},set:function(t){this.targetN.parent&&this.targetN.removeFromParent(),t&&(t.addChild(this.targetN),this.setMaxZorder())},visible:!1},childrenN:{get:function(){return this.targetN.children},visible:!1},position:{get:function(){return new i(this.targetN.x,this.targetN.y)},set:function(t){t instanceof i?this.targetN.setPosition(t.x,t.y):Fire.error("The new position must be Fire.Vec2")}},worldPosition:{get:function(){var t=this.targetN.convertToWorldSpaceAR(cc.p(0,0));return new i(t.x,t.y)},set:function(t){if(t instanceof i)if(this.parentN){var e=this.parentN.convertToNodeSpace(t);this.targetN.setPosition(e.x,e.y)}else this.position=t;else Fire.error("The new worldPosition must be Fire.Vec2")},visible:!1},rotation:{get:function(){return this.targetN.rotation},set:function(t){isNaN(t)?Fire.error("The new rotation must not be NaN"):this.targetN.rotation=t}},worldRotation:{get:function(){var t=this.parentN;return t?t instanceof cc.Scene?this.rotation+t.rotation:this.rotation+Fire(t).worldRotation:this.rotation},set:function(t){if(isNaN(t))Fire.error("The new worldRotation must not be NaN");else{var e=this.parentN;this.rotation=e?e instanceof cc.Scene?t-e.rotation:t-Fire(e).worldRotation:t}},visible:!1},scale:{get:function(){return new i(this.targetN.scaleX,this.targetN.scaleY)},set:function(t){t instanceof i?(this.targetN.scaleX=t.x,this.targetN.scaleY=t.y):Fire.error("The new scale must be Fire.Vec2")}},worldScale:{get:function(){var t=this.targetN.getNodeToWorldTransform(),e=new i;return e.x=Math.sqrt(t.a*t.a+t.b*t.b),e.y=Math.sqrt(t.c*t.c+t.d*t.d),e},visible:!1},anchorPoint:{get:function(){return new i(this.targetN.anchorX,this.targetN.anchorY)},set:function(t){t instanceof i?this.targetN.setAnchorPoint(t.x,t.y):Fire.error("The new anchorPoint must be Fire.Vec2")}},color:{get:function(){var t=this.targetN.color;return t.a=this.targetN.opacity,t.toFireColor()},set:function(t){if(t instanceof o){var e=t.toCCColor();this.targetN.color=e,this.targetN.opacity=e.a}else Fire.error("The new color must be Fire.Color")},visible:!0},size:{get:function(){var t=this.targetN.getContentSize();return new i(t.width,t.height)},set:function(t){t instanceof i?this.targetN.setContentSize(t.x,t.y):Fire.error("The new size must be Fire.Vec2")},visible:!1,readonly:!0},_name:{"default":""},_position:{"default":null},_scale:{"default":null},_rotation:{"default":0},_size:{"default":null},_color:{"default":null},_anchorPoint:{"default":null}},statics:{},setMaxZorder:function(){var t=this.parentN,e=t.children.length;if(e>=2){var r=t.children[e-2],i=r.getLocalZOrder()+1;this.targetN.setLocalZOrder(i)}},setSiblingIndex:function(t){if(this.parentN){Fire.Runtime.NodeWrapper.prototype.setSiblingIndex.call(this,t);for(var e=this.parentN.children,r=0;r<e.length;r++)e[r].setLocalZOrder(r);cc.renderer.childrenOrderDirty=!0}},attached:function(){var t=this.targetN.onEnter;this.targetN.onEnter=function(){t.call(this),a.onNodeAttachedToParent(this)};var e=this.targetN.onExit;this.targetN.onExit=function(){e.call(this),a.onNodeDetachedFromParent(this)},this.targetN.scheduleUpdate()},getWorldBounds:function(t){var e=this.size,r=cc.rect(0,0,e.x,e.y),i=this.targetN.getNodeToWorldTransform();return cc._rectApplyAffineTransformIn(r,i),t=t||new n,t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height,t},getWorldOrientedBounds:function(t,e,r,n){var o=this.size,a=o.x,s=o.y;t=t||new i,e=e||new i,r=r||new i,n=n||new i;var c=this.targetN.getNodeToWorldTransform(),u=c.tx,l=c.ty,h=c.a*a,d=c.b*a,f=c.c*s,g=c.d*s;return e.x=u,e.y=l,r.x=h+u,r.y=d+l,t.x=f+u,t.y=g+l,n.x=h+f+u,n.y=d+g+l,[t,e,r,n]},transformPointToWorld:function(t){var e=this.targetN.convertToWorldSpaceAR(t);return new Fire.Vec2(e.x,e.y)},transformPointToLocal:function(t){var e=this.targetN.convertToNodeSpaceAR(t);return new Fire.Vec2(e.x,e.y)},onBeforeSerialize:function(){this._name=this.name,this._size=[this.size.x,this.size.y],this._scale=[this.scaleX,this.scaleY],this._rotation=this.rotation,this._position=[this.position.x,this.position.y],this._anchorPoint=[this.anchorPoint.x,this.anchorPoint.y];var t=this.color;this._color=[t.r,t.g,t.b,t.a]},createNode:function(t){t=t||new cc.Node;var e=this._size?this._size[0]:0,r=this._size?this._size[1]:0;t.setName(this._name),t.setContentSize(e,r),t.x=this._position?this._position[0]:0,t.y=this._position?this._position[1]:0,t.scaleX=this._scale?this._scale[0]:1,t.scaleY=this._scale?this._scale[1]:1,t.rotation=this._rotation,this._anchorPoint&&t.setAnchorPoint(this._anchorPoint[0],this._anchorPoint[1]);var i=this._color?new o(this._color[0],this._color[1],this._color[2],this._color[3]):o.white;return t.color=i.toCCColor(),t}});e.exports=s},{}],7:[function(t,e,r){var i=t("./node"),n=["maxParticles","duration","emissionRate","life","lifeVariance","startColor","startColorVariance","endColor","endColorVariance","angle","angleVariance","startSize","startSizeVariance","endSize","endSizeVariance","startSpin","startSpinVariance","endSpin","endSpinVariance","sourcePosition","sourcePositionVariance","positionType","emitterMode"],o=["gravity","speed","speedVariance","tangentialAccel","tangentialAccelVariance","radialAccel","radialAccelVariance","rotationIsDir"],a=["startRadius","startRadiusVariance","endRadius","endRadiusVariance","rotatePerSecond","rotatePerSecondVariance"],s=Fire.Class({name:"Runtime.ParticleWrapper","extends":i,constructor:function(){this._fileToLoad="",this._texToLoad=""},properties:{custom:{"default":!1},_file:{get:function(){return this.targetN._plistFile||""},set:function(t){var e=this.targetN;e?(e._plistFile=t,cc.loader.load(t,function(r,i){if(r)throw r;var n=e.getPosition();e.particleCount=0,e.initWithFile(t),e.setPosition(n)})):this._fileToLoad=t},visible:!0,url:Runtime.ParticleAsset},_texture:{get:function(){var t=this.targetN.texture;return t&&t.url||""},set:function(t){if(this.targetN){var e=t?cc.textureCache.addImage(t):null;this.targetN.texture=e}else this._texToLoad=t},visible:!0,url:Fire.Texture},particleCount:{get:function(){return this.targetN.particleCount}},maxParticles:{get:function(){return this.targetN.totalParticles},set:function(t){isNaN(t)?Fire.error("The new duration must not be NaN"):this.targetN.totalParticles=t}},duration:{get:function(){return this.targetN.duration},set:function(t){isNaN(t)?Fire.error("The new duration must not be NaN"):this.targetN.duration=t}},emissionRate:{get:function(){return this.targetN.emissionRate},set:function(t){isNaN(t)?Fire.error("The new emissionRate must not be NaN"):this.targetN.emissionRate=t}},life:{get:function(){return this.targetN.life},set:function(t){isNaN(t)?Fire.error("The new life must not be NaN"):this.targetN.life=t}},lifeVariance:{get:function(){return this.targetN.lifeVar},set:function(t){isNaN(t)?Fire.error("The new lifeVariance must not be NaN"):this.targetN.lifeVar=t}},startColor:{get:function(){return this.targetN.startColor.toFireColor()},set:function(t){t instanceof Fire.Color?this.targetN.startColor=t.toCCColor():Fire.error("The new startColor must be Fire.Color")},type:Fire.Color},startColorVariance:{get:function(){return this.targetN.startColorVar.toFireColor()},set:function(t){t instanceof Fire.Color?this.targetN.startColorVar=t.toCCColor():Fire.error("The new startColorVariance must be Fire.Color")},type:Fire.Color},endColor:{get:function(){return this.targetN.endColor.toFireColor()},set:function(t){t instanceof Fire.Color?this.targetN.endColor=t.toCCColor():Fire.error("The new endColor must be Fire.Color")},type:Fire.Color},endColorVariance:{get:function(){return this.targetN.endColorVar.toFireColor()},set:function(t){t instanceof Fire.Color?this.targetN.endColorVar=t.toCCColor():Fire.error("The new endColorVariance must be Fire.Color")},type:Fire.Color},angle:{get:function(){return this.targetN.angle},set:function(t){isNaN(t)?Fire.error("The new angle must not be NaN"):this.targetN.angle=t}},angleVariance:{get:function(){return this.targetN.angleVar},set:function(t){isNaN(t)?Fire.error("The new angleVariance must not be NaN"):this.targetN.angleVar=t}},startSize:{get:function(){return this.targetN.startSize},set:function(t){isNaN(t)?Fire.error("The new startSize must not be NaN"):this.targetN.startSize=t}},startSizeVariance:{get:function(){return this.targetN.startSizeVar},set:function(t){isNaN(t)?Fire.error("The new startSizeVariance must not be NaN"):this.targetN.startSizeVar=t}},endSize:{get:function(){return this.targetN.endSize},set:function(t){isNaN(t)?Fire.error("The new endSize must not be NaN"):this.targetN.endSize=t}},endSizeVariance:{get:function(){return this.targetN.endSizeVar},set:function(t){isNaN(t)?Fire.error("The new endSizeVariance must not be NaN"):this.targetN.endSizeVar=t}},startSpin:{get:function(){return this.targetN.startSpin||0},set:function(t){isNaN(t)?Fire.error("The new startSpin must not be NaN"):this.targetN.startSpin=t}},startSpinVariance:{get:function(){return this.targetN.startSpinVar||0},set:function(t){isNaN(t)?Fire.error("The new startSpinVariance must not be NaN"):this.targetN.startSpinVar=t}},endSpin:{get:function(){return this.targetN.endSpin||0},set:function(t){isNaN(t)?Fire.error("The new endSpin must not be NaN"):this.targetN.endSpin=t}},endSpinVariance:{get:function(){return this.targetN.endSpinVar||0},set:function(t){isNaN(t)?Fire.error("The new endSpinVariance must not be NaN"):this.targetN.endSpinVar=t}},sourcePosition:{get:function(){var t=this.targetN.sourcePos;return new Fire.Vec2(t.x,t.y)},set:function(t){t instanceof Fire.Vec2?this.targetN.sourcePos=cc.p(t.x,t.y):Fire.error("The new sourcePosition must be Fire.Vec2")},type:Fire.Vec2},sourcePositionVariance:{get:function(){var t=this.targetN.posVar;return new Fire.Vec2(t.x,t.y)},set:function(t){t instanceof Fire.Vec2?this.targetN.posVar=cc.p(t.x,t.y):Fire.error("The new sourcePositionVariance must be Fire.Vec2")},type:Fire.Vec2},positionType:{get:function(){return this.targetN.positionType},set:function(t){isNaN(t)?Fire.error("The new positionType must not be NaN"):this.targetN.positionType=t},type:Runtime.ParticlePositionType},emitterMode:{get:function(){return this.targetN.emitterMode},set:function(t){isNaN(t)?Fire.error("The new emitterMode must not be NaN"):this.targetN.emitterMode=t},type:Runtime.ParticleEmitMode},gravity:{get:function(){var t=this.targetN.gravity;return new Fire.Vec2(t.x,t.y)},set:function(t){t instanceof Fire.Vec2?this.targetN.gravity=cc.p(t.x,t.y):Fire.error("The new gravity must be Fire.Vec2")},type:Fire.Vec2},speed:{get:function(){return this.targetN.speed||0},set:function(t){isNaN(t)?Fire.error("The new speed must not be NaN"):this.targetN.speed=t}},speedVariance:{get:function(){return this.targetN.speedVar||0},set:function(t){isNaN(t)?Fire.error("The new speedVariance must not be NaN"):this.targetN.speedVar=t}},tangentialAccel:{get:function(){return this.targetN.tangentialAccel||0},set:function(t){isNaN(t)?Fire.error("The new tangentialAccel must not be NaN"):this.targetN.tangentialAccel=t}},tangentialAccelVariance:{get:function(){return this.targetN.tangentialAccelVar||0},set:function(t){isNaN(t)?Fire.error("The new tangentialAccelVariance must not be NaN"):this.targetN.tangentialAccelVar=t}},radialAccel:{get:function(){return this.targetN.radialAccel||0},set:function(t){isNaN(t)?Fire.error("The new radialAccel must not be NaN"):this.targetN.radialAccel=t}},radialAccelVariance:{get:function(){return this.targetN.radialAccelVar||0},set:function(t){isNaN(t)?Fire.error("The new radialAccelVariance must not be NaN"):this.targetN.radialAccelVar=t}},rotationIsDir:{get:function(){return this.targetN.rotationIsDir},set:function(t){isNaN(t)?Fire.error("The new rotationIsDir must not be NaN"):this.targetN.rotationIsDir=t}},startRadius:{get:function(){return this.targetN.startRadius||0},set:function(t){isNaN(t)?Fire.error("The new startRadius must not be NaN"):this.targetN.startRadius=t}},startRadiusVariance:{get:function(){return this.targetN.startRadiusVar||0},set:function(t){isNaN(t)?Fire.error("The new startRadiusVariance must not be NaN"):this.targetN.startRadiusVar=t}},endRadius:{get:function(){return this.targetN.endRadius||0},set:function(t){isNaN(t)?Fire.error("The new endRadius must not be NaN"):this.targetN.endRadius=t}},endRadiusVariance:{get:function(){return this.targetN.endRadiusVar||0},set:function(t){isNaN(t)?Fire.error("The new endRadiusVariance must not be NaN"):this.targetN.endRadiusVar=t}},rotatePerSecond:{get:function(){return this.targetN.rotatePerSecond||0},set:function(t){isNaN(t)?Fire.error("The new rotatePerSecond must not be NaN"):this.targetN.rotatePerSecond=t}},rotatePerSecondVariance:{get:function(){return this.targetN.rotatePerSecondVar||0},set:function(t){isNaN(t)?Fire.error("The new rotatePerSecondVariance must not be NaN"):this.targetN.rotatePerSecondVar=t}},_serializeObject:{"default":null}},statics:{animatableInEditor:!0},onFocusInEditor:function(){this.targetN.resetSystem()},onLostFocusInEditor:function(){this.targetN.resetSystem(),this.targetN.stopSystem(),Fire.engine.renderRuntime()},_serializeToObject:function(t,e){var r=this[e];t[e]=r instanceof Fire.Color?[r.r,r.g,r.b,r.a]:r instanceof Fire.Vec2?[r.x,r.y]:r},_deserializeFromObject:function(t,e){var r=t[e],i=Fire.attr(s,e);this[e]=i.ctor===Fire.Color?r?new Fire.Color(r[0],r[1],r[2],r[3]):Fire.Color.white:i.ctor===Fire.Vec2?r?new Fire.Vec2(r[0],r[1]):Fire.Vec2.zero:r},_createTextureFromData:function(t,e){if(!e)return null;var r=cc.textureCache.getTextureForKey(t);if(r)return r;var i=cc.unzipBase64AsArray(e,1);if(!i)return Fire.error("Error decoding or ungzipping textureImageData"),!1;var n=cc.getImageFormatByData(i);if(n!==cc.FMT_TIFF&&n!==cc.FMT_PNG)return Fire.error("Unknown image format with Data"),!1;var o=cc.newElement("canvas");if(n===cc.FMT_PNG){var a=new cc.PNGReader(i);a.render(o)}else{var s=cc.tiffReader;s.parseTIFF(i,o)}return cc.textureCache.cacheImage(t,o),r=cc.textureCache.getTextureForKey(t),r||Fire.error("Error loading the texture"),r},onBeforeSerialize:function(){if(i.prototype.onBeforeSerialize.call(this),this.custom){this._serializeObject={};var t=this._serializeObject;t.emitterMode=this.emitterMode;var e=t.emitterMode===Runtime.ParticleEmitMode.Gravity?o:a,r=n.concat(e);r.forEach(function(e){this._serializeToObject(t,e)}.bind(this))}else this._serializeObject=null},createNode:function(t){t=t||new cc.ParticleSystem,i.prototype.createNode.call(this,t);var e=this._serializeObject;if(this.custom&&e){var r=e.emitterMode===Runtime.ParticleEmitMode.Gravity?o:a,s=n.concat(r),c=this.targetN;if(this.targetN=t,s.forEach(function(t){this._deserializeFromObject(e,t)}.bind(this)),this.targetN=c,this._fileToLoad&&(t._plistFile=this._fileToLoad,this._fileToLoad=""),this._texToLoad){var u=cc.textureCache.addImage(this._texToLoad);t.texture=u,this._texToLoad=""}else if(t._plistFile){var l=cc.loader.getRes(t._plistFile);if(l){var h=l.textureFileName,u=cc.textureCache.getTextureForKey(h);if(!u){var d=l.textureImageData;u=this._createTextureFromData(h,d)}t.texture=u}}}else if(this._fileToLoad){var f=t.getPosition();t.initWithFile(this._fileToLoad),t.setPosition(f)}return t}});e.exports=s},{"./node":6}],8:[function(t,e,r){var i=Fire.Vec2,n=Fire.Runtime.Helpers,o=Fire.Class({name:"Runtime.SceneWrapper","extends":Fire.Runtime.SceneWrapper,properties:{childrenN:{get:function(){return this.targetN.children},visible:!1},position:{get:function(){return new i(this.targetN.x,this.targetN.y)},set:function(t){t instanceof i?this.targetN.setPosition(t.x,t.y):Fire.error("The new position must be Fire.Vec2")}},worldPosition:{get:function(){return this.position},set:function(t){this.position=t}},scale:{get:function(){return new i(this.targetN.scaleX,this.targetN.scaleY)},set:function(t){t instanceof i?(this.targetN.scaleX=t.x,this.targetN.scaleY=t.y):Fire.error("The new scale must be Fire.Vec2")}},worldScale:{get:function(){return this.scale},set:function(t){this.scale=t}},rotation:{get:function(){return this.targetN.rotation},set:function(t){isNaN(t)?Fire.error("The new rotation must not be NaN"):this.targetN.rotation=t}},worldRotation:{get:function(){return this.rotation},set:function(t){this.rotation=t}},_position:{"default":null},_scale:{"default":null}},_deepQueryChildren:function(t){function e(t,r){for(var i=t.children,n=0;n<i.length;n++){var o=i[n];if(!r(o))break;e(o,r)}}e(this,t)},transformPointToWorld:function(t){var e=this.targetN.convertToWorldSpaceAR(t);return new Fire.Vec2(e.x,e.y)},transformPointToLocal:function(t){var e=this.targetN.convertToNodeSpaceAR(t);return new Fire.Vec2(e.x,e.y)},attached:function(){var t=this.targetN.onEnter;this.targetN.onEnter=function(){t.call(this),n.onNodeAttachedToParent(this)};var e=this.targetN.onExit;this.targetN.onExit=function(){e.call(this),n.onNodeDetachedFromParent(this)}},preloadAssets:function(t,e){var r=t.map(function(t){return t.url});cc.loader.load(r,e)},onBeforeSerialize:function(){this._scale=[this.scaleX,this.scaleY],this._position=[this.position.x,this.position.y]},createNode:function(t){return t=t||new cc.Scene,t.setAnchorPoint(0,0),t.x=this._position?this._position[0]:0,t.y=this._position?this._position[1]:0,t.scaleX=this._scale?this._scale[0]:1,t.scaleY=this._scale?this._scale[1]:1,t}});e.exports=o},{}],9:[function(t,e,r){var i=t("./node"),n=Fire.Class({name:"Runtime.SpriteWrapper","extends":i,constructor:function(){this._texToLoad=""},properties:{_texture:{get:function(){var t=this.targetN.texture;return t&&t.url||""},set:function(t){this.targetN?this.targetN.texture=t||null:this._texToLoad=t},visible:!0,url:Fire.Texture}},statics:{},createNode:function(t){return t=t||new cc.Sprite,i.prototype.createNode.call(this,t),this._texToLoad&&(t.texture=this._texToLoad,this._texToLoad=""),t}});e.exports=n},{"./node":6}],10:[function(t,e,r){Runtime.TextAlign=Fire.defineEnum({Left:-1,Center:-1,Right:-1}),Runtime.TextAnchor=Fire.defineEnum({TopLeft:-1,TopCenter:-1,TopRight:-1,MiddleLeft:-1,MiddleCenter:-1,MiddleRight:-1,BottomLeft:-1,BottomCenter:-1,BottomRight:-1}),Runtime.ParticlePositionType=Fire.defineEnum({Free:cc.ParticleSystem.TYPE_FREE,Grouped:cc.ParticleSystem.TYPE_GROUPED}),Runtime.ParticleEmitMode=Fire.defineEnum({Gravity:cc.ParticleSystem.MODE_GRAVITY,Radius:cc.ParticleSystem.MODE_RADIUS})},{}],11:[function(t,e,r){var i=Fire.Color;i.prototype.toCCColor=function(){return{r:255*this.r|0,g:255*this.g|0,b:255*this.b|0,a:255*this.a|0}},cc.Color.prototype.toFireColor=function(){return new i(this.r/255,this.g/255,this.b/255,this.a/255)}},{}],12:[function(t,e,r){Fire.JS.mixin(Fire.BitmapFont.prototype,{createNode:function(t){var e;try{e=new cc.LabelBMFont}catch(r){return t(r)}var i=Fire(e);return i.name=this.name,i.text="Text",i._bitmapFont=this.url,t(null,e)}})},{}],13:[function(t,e,r){t("./texture"),t("./bitmap-font"),t("./sprite-animation"),t("./particle"),t("./sprite-atlas")},{"./bitmap-font":12,"./particle":14,"./sprite-animation":15,"./sprite-atlas":16,"./texture":17}],14:[function(t,e,r){var i=Fire.Class({name:"Runtime.ParticleAsset","extends":Fire.Asset,constructor:function(){},properties:{texture:{"default":null,type:Fire.Texture,visible:!1}},createNode:function(t){var e;try{e=new cc.ParticleSystem}catch(r){return t(r)}var i=Fire(e);return i._file=this.url,i.name=this.name,t(null,e)}});Runtime.ParticleAsset=i,e.exports=i},{}],15:[function(t,e,r){e.exports=function(){var t=Fire.Class({name:"Runtime.SpriteAnimationAsset","extends":Fire.Asset,constructor:function(){},properties:{0:{"default":"",type:Fire.Texture},2:{"default":"",type:Fire.Texture},3:{"default":"",type:Fire.Texture},4:{"default":"",type:Fire.Texture},5:{"default":"",type:Fire.Texture},6:{"default":"",type:Fire.Texture},7:{"default":"",type:Fire.Texture},8:{"default":"",type:Fire.Texture},9:{"default":"",type:Fire.Texture},loop:{"default":!0},delay:{"default":.5}}});return Runtime.SpriteAnimationAsset=t,t}()},{}],16:[function(t,e,r){var i=Fire.Class({name:"Runtime.SpriteAtlas","extends":Fire.Asset,constructor:function(){},properties:{plist:{get:function(){return this.urls[0]}},texture:{get:function(){return this.urls[1]}}}});Runtime.SpriteAtlas=i,e.exports=i},{}],17:[function(t,e,r){Fire.JS.mixin(Fire.Texture.prototype,{createNode:function(t){var e;try{e=new cc.Sprite(this.url)}catch(r){return t(r)}var i=Fire(e);return i.name=this.name,t(null,e)}})},{}]},{},[1]);